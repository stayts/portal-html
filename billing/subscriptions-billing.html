<link rel="stylesheet" href="/modules/accordion/sub.css">
<link rel="stylesheet" href="/modules/sub/sub.css">
<div class="section">
    <div class="h1">
        <div class="title">Subscriptions</div>
        <div class="material-icons add" id="subscribe">add_circle
        </div>
    </div>
    <div class="acc-title">
        <div class="base">
            <div class="number">Number</div>
            <div class="name">Name</div>
        </div>
        <div class="more">
            <div class="type">Type</div>
            <div class="length">Length</div>
            <div class="provider">Provider</div>
            <div class="SKU">SKU</div>
            <div class="date">Started at</div>
        </div>
    </div>
    <div id="accordion" class="accordion">
        <div class="acc-head boo">
            <div class="base">
                <div class="number">A-000023</div>
                <div class="name">LA for Dynamics 365</div>
            </div>
            <div class="more">
                <div class="type">enchanced</div>
                <div class="length">1 year</div>
                <div class="provider">Evergreen</div>
                <div class="SKU">SKU-3456789</div>
                <div class="date">01.23.13</div>
            </div>
            <!--editablecontent-->
        </div>
        <div class="acc-content step">
            <div class="actions edit material-icons">create</div>
            <div class="actions save material-icons">save</div>
            <div class="number  item">
                <div class="left">Number</div>
                <div class="right textedit">000023</div>
                <div class="status"></div>
            </div>
            <div class="name item">
                <div class="left">Name</div>
                <div class="right dropdown">
                    <legend class="select">
                        <div class="input-field">LA for Dynamics36</div>
                        <div class="arrow-up"></div>
                    </legend>
                    <div class="select-list">
                        <div class="data" tabindex="0">
                            LA for Dynamics36
                        </div>
                        <div class="data" tabindex="0">
                            LA for Dynamics36 Enchanced
                        </div>
                    </div>
                </div>
            </div>
            <div class="type item">
                <div class="left">Type of license</div>
                <div class="right dropdown">
                    <legend class="select">
                        <div class="input-field">Enchanced</div>
                        <div class="arrow-up"></div>
                    </legend>
                    <div class="select-list">
                        <div class="data" tabindex="0">
                            Enchanced
                        </div>
                        <div class="data" tabindex="0">
                            Regular
                        </div>
                    </div>
                </div>
            </div>
            <div class="length item">
                <div class="left">Length of the contract</div>
                <div class="right textedit">1 year</div>
            </div>
            <div class="provider item">
                <div class="left">Service Provider</div>
                <div class="right textedit">
                    Evergreen</div>
            </div>
            <div class="SKU item">
                <div class="left">SKU number</div>
                <div class="right textedit">
                    3456789</div>
                <div class="status">This fleld requires numeric-only entry</div>
            </div>
            <div class="date item">
                <div class="left">Start date</div>
                <div class="right textedit">01.23.13</div>
            </div>
        </div>
        <div class="acc-head boo">
            <div class="base">
                <div class="number">A-000023</div>
                <div class="name">LA for Dynamics 365</div>
            </div>
            <div class="more">
                <div class=" item type">enchanced</div>
                <div class=" item length">1 year</div>
                <div class=" item provider">Evergreen</div>
                <div class=" item SKU">SKU-3456789</div>
                <div class=" item date">01.23.13</div>
            </div>
            <!--editablecontent-->
        </div>
        <div class="acc-content step">
            <div class="actions edit material-icons">create</div>
            <div class="actions save material-icons">save</div>
            <div class="number  item">
                <div class="left">Number</div>
                <div class="right textedit">000023</div>
                <div class="status"></div>
            </div>
            <div class="name item">
                <div class="left">Name</div>
                <div class="right dropdown">
                    <legend class="select">
                        <div class="input-field">LA for Dynamics36</div>
                        <div class="arrow-up"></div>
                    </legend>
                    <div class="select-list">
                        <div class="data" tabindex="0">
                            LA for Dynamics36
                        </div>
                        <div class="data" tabindex="0">
                            LA for Dynamics36 Enchanced
                        </div>
                    </div>
                </div>
            </div>
            <div class="type item">
                <div class="left">Type of license</div>
                <div class="right dropdown">
                    <legend class="select">
                        <div class="input-field">Enchanced</div>
                        <div class="arrow-up"></div>
                    </legend>
                    <div class="select-list">
                        <div class="data" tabindex="0">
                            Enchanced
                        </div>
                        <div class="data" tabindex="0">
                            Regular
                        </div>
                    </div>
                </div>
            </div>
            <div class="length item">
                <div class="left">Length of the contract</div>
                <div class="right textedit">1 year</div>
            </div>
            <div class="provider item">
                <div class="left">Service Provider</div>
                <div class="right textedit">
                    Evergreen</div>
            </div>
            <div class="SKU item">
                <div class="left">SKU number</div>
                <div class="right textedit">
                    3456789</div>
                <div class="status">This fleld requires numeric-only entry</div>
            </div>
            <div class="date item">
                <div class="left">Start date</div>
                <div class="right textedit">01.23.13</div>
            </div>
        </div>
    </div>
</div>
<script>
    jQuery(document).ready(function($) {
        $("#accordion").accordion({
            heightStyle: "content",
            collapsible: true,
            active: false

        });
        $(".step:first").removeClass("open").addClass("done").find(".textedit").attr('contenteditable', 'false');
        $(".edit").click(function() {

            alert("boom")
            $(this).closest(".step").hide().addClass("open").removeClass("done")
            $(this).closest(".step").find(".textedit").attr('contenteditable', 'true');
            $(this).closest(".step").delay(100).show('slide', 200);
            $(this).closest(".step").find(".req .right").addClass('req-text');


        });
$(".save").click(saveStep);


        $(".textedit").click(resetkey).focusout(validate);

        var textBox;
        var status;

        function validate() {
            textBox = $(this, ".textedit");
            status = textBox.closest(". item").find(".status");
            var regex = /^[0-9]+$/;
            var x = textBox.text();

            if (x.match(regex)) {
                textBox.addClass("good");
                textBox.removeClass("error");
                status.removeClass("error");
                status.html('');

            } else {
                textBox.addClass("error");
                status.addClass("error");
                textBox.removeClass("good");
                status.html("Error message in forms will look like this");

            }
        }

        function resetkey() {

            textBox = $(this, ".textedit");
            textBox.removeClass("good");
            textBox.removeClass("bad");
            status.removeClass();
            status.html('');
        }

        $("#subscribe").on("click", function() {
            $("#modal").load("billing/subscribe-billing.html");
        });
        $("#yes").on("click", function() {
            window.location.href = '';
        });
        //cancel-btn
        $("#no").on("click", function() {
            $("#modal").load("");
        });
    });
    $.getScript('/js/new-sub.js', function() {
        alert('Load was performed.');
    });

</script>
